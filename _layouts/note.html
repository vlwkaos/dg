---
layout: default
---
<script>
  window.onload = () => {
    const side = document.getElementsByTagName('side')[0];
    window.onscroll = (e) => {
      if (document.body.clientWidth >= 700) {
        const y = Math.min(document.getElementById('notes-entry-container').scrollHeight - side.clientHeight, window.scrollY);
        side.style.top = `${y}px`;
      } else {
        side.style.top = '0px';
      }
    }
  }
</script>
<article>
  <div>
    <h1>{{ page.title }}</h1>
    <time datetime="{{ page.last_modified_at | date_to_xmlschema }}">{% if page.type != 'pages' %}
      마지막으로 수정됨. {{ page.last_modified_at | date: "%B %-d, %Y" }}
      {% endif %}
    </time>
  </div>

  <div id="notes-entry-container">
    <content style="max-width: 640px;">
      {{ content }}
    </content>

    <side style="font-size: 0.9em; position:relative;align-self: baseline; transition: 0.1s">
      <h3 style="margin-bottom: 1em">이 글을 참조하는 글</h3>
      {% if page.backlinks.size > 0 %}
      <div style="display: grid; grid-gap: 1em; grid-template-columns: repeat(1fr);">
      {% for backlink in page.backlinks %}
        <div class="backlink-box">
        <a class="internal-link" href="{{ backlink.url }}">{{ backlink.title }}</a><br>
        <div style="font-size: 0.9em">{{ backlink.excerpt | strip_html | truncatewords: 20 }}</div>
        </div>
      {% endfor %}
      </div>
      {% else %}

      <div style="font-size: 0.9em">
        <p>
          이 글에 연결된 글이 없습니다.
        </p>
      </div>
      {% endif %}
    </side>
  </div>
</article>

<hr>

<p>아래에서 노트끼리의 연결을 확인할 수 있어요.</p>

{% include notes_graph.html %}
